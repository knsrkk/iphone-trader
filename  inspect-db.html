<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Inspect Firebase DB</title>
</head>
<body>
  <h1>Inspect Firebase Database</h1>
  <p>ÐžÑ‚ÐºÑ€Ð¾Ð¹ DevTools â†’ Console</p>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <!-- Firebase config -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD56_0heGuLJJrisO-qsr7Bihydc52ACmQ",
      authDomain: "iphone-trader.firebaseapp.com",
      projectId: "iphone-trader",
      storageBucket: "iphone-trader.firebasestorage.app",
      messagingSenderId: "720340861485",
      appId: "1:720340861485:web:5d374795159dc90054aea4",
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>

  <!-- Inspector -->
  <script>
    async function inspectProducts() {
      console.log('â³ Loading products...');

      const snapshot = await db.collection('products').get();

      if (snapshot.empty) {
        console.warn('âŒ Collection products is empty or not accessible');
        return;
      }

      const allFields = new Set();
      let example = null;

      snapshot.forEach(doc => {
        const data = doc.data();
        if (!example) example = data;
        Object.keys(data).forEach(k => allFields.add(k));
      });

      console.log('âœ… PRODUCTS FIELDS:');
      console.table([...allFields]);

      console.log('ðŸ“¦ EXAMPLE PRODUCT OBJECT:');
      console.log(example);
    }

    inspectProducts();
  </script>
</body>
</html>